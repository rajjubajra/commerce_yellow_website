(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{795:function(i,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shopping",function(){return n(1825)}])},9903:function(i,l,n){"use strict";var e=n(5893);n(7294),l.Z=function(i){let{title:l}=i;return(0,e.jsx)("div",{className:"w-full my-10 text-center font-light",children:(0,e.jsxs)("h2",{className:"text-2xl",children:["- ",l," - "]})})}},4308:function(i,l,n){"use strict";var e=n(5893),d=n(1664),o=n.n(d);l.Z=function(i){let{title:l,link:n}=i;return(0,e.jsx)(o(),{className:"px-4 py-2 border border-white/80 shadow-sm  hover:bg-white/30 hover:shadow-lg duration-500 w-52 flex justify-center",href:n,children:l})}},1768:function(i,l,n){"use strict";n.d(l,{Z:function(){return r}});var e=n(5893),d=n(7294),o=n(5675),t=n.n(o),u=n(491),r=function(i){let{included:l,images:n}=i,{urlarr:o}=function(i){let{included:l,images:n}=i;console.log("INCLUDED : ",n);let[e,o]=(0,d.useState)([]);return(0,d.useEffect)(()=>{let i=[],e=[];n&&(null==n||n.map(n=>{var e,d,o,t,u,r,v,a,s,c,h,m,p,f,g,x,j;let _=l&&(null==l?void 0:l.find(i=>(null==i?void 0:i.id)===(null==n?void 0:n.id)));_&&(null==_?void 0:null===(d=_.relationships)||void 0===d?void 0:null===(e=d.field_media_image)||void 0===e?void 0:e.data)&&i.push({id:null==_?void 0:null===(u=_.relationships)||void 0===u?void 0:null===(t=u.field_media_image)||void 0===t?void 0:null===(o=t.data)||void 0===o?void 0:o.id,height:null==_?void 0:null===(s=_.relationships)||void 0===s?void 0:null===(a=s.field_media_image)||void 0===a?void 0:null===(v=a.data)||void 0===v?void 0:null===(r=v.meta)||void 0===r?void 0:r.height,width:null==_?void 0:null===(p=_.relationships)||void 0===p?void 0:null===(m=p.field_media_image)||void 0===m?void 0:null===(h=m.data)||void 0===h?void 0:null===(c=h.meta)||void 0===c?void 0:c.width,alt:null==_?void 0:null===(j=_.relationships)||void 0===j?void 0:null===(x=j.field_media_image)||void 0===x?void 0:null===(g=x.data)||void 0===g?void 0:null===(f=g.meta)||void 0===f?void 0:f.alt})})),i&&i.map(i=>{var n,d,o,t;let u=l&&(null==l?void 0:l.find(l=>(null==l?void 0:l.id)===(null==i?void 0:i.id)));(null==u?void 0:null===(d=u.attributes)||void 0===d?void 0:null===(n=d.uri)||void 0===n?void 0:n.url)&&(null==e||e.push({id:null==i?void 0:i.id,imgurl:null==u?void 0:null===(t=u.attributes)||void 0===t?void 0:null===(o=t.uri)||void 0===o?void 0:o.url,width:null==i?void 0:i.width,height:null==i?void 0:i.height,alt:null==i?void 0:i.alt}))}),o(e)},[n,l]),{urlarr:e}}({included:l,images:n});return(0,e.jsx)("div",{children:o&&Array.isArray(o)&&o.length>0&&o.map((i,l)=>0===l&&(0,e.jsx)("div",{children:(0,e.jsx)(t(),{className:"w-full md:w-96 h-96 object-cover",src:"".concat(u.g.uri).concat(i.imgurl),height:i.height,width:i.width,alt:i.alt})},i.id))})}},2812:function(i,l,n){"use strict";n.d(l,{Z:function(){return t}});var e=n(5893),d=n(7294);let o=i=>{let{varArr:l,included:n}=i,[e,o]=(0,d.useState)([]),[t,u]=(0,d.useState)(!1),[r,v]=(0,d.useState)(!1);return console.log("variation: ",e),console.log(l),console.log(n),(0,d.useEffect)(()=>{let i=[];l&&l.map(l=>{var e,d,o,t,u,r,v,a,s,c;let h=null==n?void 0:n.find(i=>i.id===l.id);i.push({id:null==h?void 0:h.id,title:null==h?void 0:null===(e=h.attributes)||void 0===e?void 0:e.title,sku:null==h?void 0:null===(d=h.attributes)||void 0===d?void 0:d.sku,price:parseFloat(null==h?void 0:null===(t=h.attributes)||void 0===t?void 0:null===(o=t.price)||void 0===o?void 0:o.number),currency:null==h?void 0:null===(r=h.attributes)||void 0===r?void 0:null===(u=r.price)||void 0===u?void 0:u.currency_code,weight:null==h?void 0:null===(a=h.attributes)||void 0===a?void 0:null===(v=a.weight)||void 0===v?void 0:v.number,unite:null==h?void 0:null===(c=h.attributes)||void 0===c?void 0:null===(s=c.weight)||void 0===s?void 0:s.unit})}),o(i)},[n,l]),{data:e,isLoading:t,isError:r}};var t=function(i){var l,n,d;let{varArr:t,included:u}=i,{data:r,isError:v,isLoading:a}=o({varArr:t,included:u});return(0,e.jsx)("div",{className:"p-2 m-1",children:r&&r.length>1?(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("div",{children:null===(l=r[0])||void 0===l?void 0:l.currency}),(0,e.jsx)("div",{children:Math.max(...r.map(i=>{var l;return null!==(l=null==i?void 0:i.price.toFixed(2))&&void 0!==l?l:null}))}),"-",(0,e.jsx)("div",{children:Math.min(...r.map(i=>{var l;return null!==(l=null==i?void 0:i.price.toFixed(2))&&void 0!==l?l:null}))})]}):(0,e.jsx)("div",{children:r&&parseInt(null===(n=r[0])||void 0===n?void 0:n.price,10).toFixed(2)+" "+(null===(d=r[0])||void 0===d?void 0:d.currency)})})}},1825:function(i,l,n){"use strict";n.r(l),n.d(l,{default:function(){return c}});var e=n(5893),d=n(9903),o=function(i){var l;let{item:n}=i;return(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:"mb-2",children:null==n?void 0:null===(l=n.attributes)||void 0===l?void 0:l.title})})},t=n(1768),u=n(2812),r=n(4308),v=n(491),a=n(777),s=function(){var i,l;let{data:n,error:d,isLoading:s}=function(){let{data:i,isLoading:l,error:n}=(0,a.a)({queryKey:["getSession"],queryFn:()=>fetch("".concat(v.g.url,"/session/token"),{credentials:"include"}).then(i=>i.text())});console.log("token",i,"tokenLoading",l,"tokenerror",n);let e={Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json","Commerce-Cart-Token":null!=i?i:""},d="".concat(v.g.url,"/jsonapi/commerce_product/physical").concat("?include=image_media.field_media_image,variations,stores"),{data:o,isLoading:t,error:u}=(0,a.a)({queryKey:["productlist"],queryFn:()=>fetch(d,{headers:e}).then(i=>i.json())});return console.log("shop item Listing: ",o),{data:o,isLoading:t,error:u}}();return d&&d.message?(0,e.jsxs)("div",{children:["Eror: ",d.message]}):s?(0,e.jsx)("div",{children:"Loading..."}):(0,e.jsx)("div",{className:"w-full flex flex-col justify-center items-center my-10",children:(0,e.jsx)("div",{className:"flex flex-wrap gap-4",children:n&&(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.length)>0&&(null==n?void 0:null===(l=n.data)||void 0===l?void 0:l.map(i=>{var l,d,v,a;return(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsx)(o,{item:i}),(0,e.jsx)("div",{className:"w-80 my-4",children:(0,e.jsx)(t.Z,{included:null==n?void 0:n.included,images:null==i?void 0:null===(d=i.relationships)||void 0===d?void 0:null===(l=d.image_media)||void 0===l?void 0:l.data})}),(0,e.jsx)("div",{children:(0,e.jsx)(u.Z,{included:n&&(null==n?void 0:n.included),varArr:null==i?void 0:null===(a=i.relationships)||void 0===a?void 0:null===(v=a.variations)||void 0===v?void 0:v.data})}),(0,e.jsx)("div",{children:(0,e.jsx)(r.Z,{title:"View Item",link:"/shopping/".concat(null==i?void 0:i.id)})})]},i.id)}))})})},c=function(){return(0,e.jsxs)("div",{className:"md:px-20 px-5 py-10",children:[(0,e.jsx)(d.Z,{title:"Shop"}),(0,e.jsx)(s,{})]})}}},function(i){i.O(0,[888,774,179],function(){return i(i.s=795)}),_N_E=i.O()}]);