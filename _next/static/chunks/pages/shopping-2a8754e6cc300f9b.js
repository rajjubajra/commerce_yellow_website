(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{795:function(i,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shopping",function(){return n(1825)}])},9903:function(i,l,n){"use strict";var d=n(5893);n(7294),l.Z=function(i){let{title:l}=i;return(0,d.jsx)("div",{className:"w-full my-10 text-center font-light",children:(0,d.jsxs)("h2",{className:"text-2xl",children:["- ",l," - "]})})}},4308:function(i,l,n){"use strict";var d=n(5893),e=n(1664),t=n.n(e);l.Z=function(i){let{title:l,link:n}=i;return(0,d.jsx)(t(),{className:"px-4 py-2 border border-white/80 shadow-sm  hover:bg-white/30 hover:shadow-lg duration-500 w-52 flex justify-center",href:n,children:l})}},1768:function(i,l,n){"use strict";n.d(l,{Z:function(){return r}});var d=n(5893),e=n(7294),t=n(5675),o=n.n(t),u=n(491),r=function(i){let{included:l,images:n}=i,{urlarr:t}=function(i){let{included:l,images:n}=i,[d,t]=(0,e.useState)([]);return(0,e.useEffect)(()=>{let i=[],d=[];n&&(null==n||n.map(n=>{var d,e,t,o,u,r,v,a,s,c,h,m,p,f,x,g,j;let _=l&&(null==l?void 0:l.find(i=>(null==i?void 0:i.id)===(null==n?void 0:n.id)));_&&(null==_?void 0:null===(e=_.relationships)||void 0===e?void 0:null===(d=e.field_media_image)||void 0===d?void 0:d.data)&&i.push({id:null==_?void 0:null===(u=_.relationships)||void 0===u?void 0:null===(o=u.field_media_image)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.id,height:null==_?void 0:null===(s=_.relationships)||void 0===s?void 0:null===(a=s.field_media_image)||void 0===a?void 0:null===(v=a.data)||void 0===v?void 0:null===(r=v.meta)||void 0===r?void 0:r.height,width:null==_?void 0:null===(p=_.relationships)||void 0===p?void 0:null===(m=p.field_media_image)||void 0===m?void 0:null===(h=m.data)||void 0===h?void 0:null===(c=h.meta)||void 0===c?void 0:c.width,alt:null==_?void 0:null===(j=_.relationships)||void 0===j?void 0:null===(g=j.field_media_image)||void 0===g?void 0:null===(x=g.data)||void 0===x?void 0:null===(f=x.meta)||void 0===f?void 0:f.alt})})),i&&i.map(i=>{var n,e,t,o;let u=l&&(null==l?void 0:l.find(l=>(null==l?void 0:l.id)===(null==i?void 0:i.id)));(null==u?void 0:null===(e=u.attributes)||void 0===e?void 0:null===(n=e.uri)||void 0===n?void 0:n.url)&&(null==d||d.push({id:null==i?void 0:i.id,imgurl:null==u?void 0:null===(o=u.attributes)||void 0===o?void 0:null===(t=o.uri)||void 0===t?void 0:t.url,width:null==i?void 0:i.width,height:null==i?void 0:i.height,alt:null==i?void 0:i.alt}))}),t(d)},[n,l]),{urlarr:d}}({included:l,images:n});return(0,d.jsx)("div",{children:t&&Array.isArray(t)&&t.length>0&&t.map((i,l)=>0===l&&(0,d.jsx)("div",{children:(0,d.jsx)(o(),{className:"w-full md:w-96 h-96 object-cover",src:"".concat(u.g.uri).concat(i.imgurl),height:i.height,width:i.width,alt:i.alt})},i.id))})}},2812:function(i,l,n){"use strict";n.d(l,{Z:function(){return o}});var d=n(5893),e=n(7294);let t=i=>{let{varArr:l,included:n}=i,[d,t]=(0,e.useState)([]),[o,u]=(0,e.useState)(!1),[r,v]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{let i=[];l&&l.map(l=>{var d,e,t,o,u,r,v,a,s,c;let h=null==n?void 0:n.find(i=>i.id===l.id);i.push({id:null==h?void 0:h.id,title:null==h?void 0:null===(d=h.attributes)||void 0===d?void 0:d.title,sku:null==h?void 0:null===(e=h.attributes)||void 0===e?void 0:e.sku,price:parseFloat(null==h?void 0:null===(o=h.attributes)||void 0===o?void 0:null===(t=o.price)||void 0===t?void 0:t.number),currency:null==h?void 0:null===(r=h.attributes)||void 0===r?void 0:null===(u=r.price)||void 0===u?void 0:u.currency_code,weight:null==h?void 0:null===(a=h.attributes)||void 0===a?void 0:null===(v=a.weight)||void 0===v?void 0:v.number,unite:null==h?void 0:null===(c=h.attributes)||void 0===c?void 0:null===(s=c.weight)||void 0===s?void 0:s.unit})}),t(i)},[n,l]),{data:d,isLoading:o,isError:r}};var o=function(i){var l,n,e;let{varArr:o,included:u}=i,{data:r,isError:v,isLoading:a}=t({varArr:o,included:u});return(0,d.jsx)("div",{className:"p-2 m-1",children:r&&r.length>1?(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{children:null===(l=r[0])||void 0===l?void 0:l.currency}),(0,d.jsx)("div",{children:Math.max(...r.map(i=>{var l;return null!==(l=null==i?void 0:i.price.toFixed(2))&&void 0!==l?l:null}))}),"-",(0,d.jsx)("div",{children:Math.min(...r.map(i=>{var l;return null!==(l=null==i?void 0:i.price.toFixed(2))&&void 0!==l?l:null}))})]}):(0,d.jsx)("div",{children:r&&parseInt(null===(n=r[0])||void 0===n?void 0:n.price,10).toFixed(2)+" "+(null===(e=r[0])||void 0===e?void 0:e.currency)})})}},1825:function(i,l,n){"use strict";n.r(l),n.d(l,{default:function(){return c}});var d=n(5893),e=n(9903),t=function(i){var l;let{item:n}=i;return(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"mb-2",children:null==n?void 0:null===(l=n.attributes)||void 0===l?void 0:l.title})})},o=n(1768),u=n(2812),r=n(4308),v=n(491),a=n(777),s=function(){var i,l;let{data:n,error:e,isLoading:s}=function(){let{data:i,isLoading:l,error:n}=(0,a.a)({queryKey:["getSession"],queryFn:()=>fetch("".concat(v.g.url,"/session/token"),{credentials:"include"}).then(i=>i.text())});console.log("token",i,"tokenLoading",l,"tokenerror",n);let d={Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json","Commerce-Cart-Token":null!=i?i:""},e="".concat(v.g.url,"/jsonapi/commerce_product/physical").concat("?include=image_media.field_media_image,variations,stores"),{data:t,isLoading:o,error:u}=(0,a.a)({queryKey:["productlist"],queryFn:()=>fetch(e,{headers:d}).then(i=>i.json())});return console.log("shop item Listing: ",t),{data:t,isLoading:o,error:u}}();return e&&e.message?(0,d.jsxs)("div",{children:["Eror: ",e.message]}):s?(0,d.jsx)("div",{children:"Loading..."}):(0,d.jsx)("div",{className:"w-full flex flex-col justify-center items-center my-10",children:(0,d.jsx)("div",{className:"flex flex-wrap gap-4",children:n&&(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.length)>0&&(null==n?void 0:null===(l=n.data)||void 0===l?void 0:l.map(i=>{var l,e,v,a;return(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)(t,{item:i}),(0,d.jsx)("div",{className:"w-80 my-4",children:(0,d.jsx)(o.Z,{included:null==n?void 0:n.included,images:null==i?void 0:null===(e=i.relationships)||void 0===e?void 0:null===(l=e.image_media)||void 0===l?void 0:l.data})}),(0,d.jsx)("div",{children:(0,d.jsx)(u.Z,{included:n&&(null==n?void 0:n.included),varArr:null==i?void 0:null===(a=i.relationships)||void 0===a?void 0:null===(v=a.variations)||void 0===v?void 0:v.data})}),(0,d.jsx)("div",{children:(0,d.jsx)(r.Z,{title:"View Item",link:"/shopping/".concat(null==i?void 0:i.id)})})]},i.id)}))})})},c=function(){return(0,d.jsxs)("div",{className:"md:px-20 px-5 py-10",children:[(0,d.jsx)(e.Z,{title:"Shop"}),(0,d.jsx)(s,{})]})}}},function(i){i.O(0,[888,774,179],function(){return i(i.s=795)}),_N_E=i.O()}]);