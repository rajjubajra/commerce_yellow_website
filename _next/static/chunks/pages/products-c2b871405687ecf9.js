(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{4918:function(i,l,d){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return d(8974)}])},6324:function(i,l,d){"use strict";d.r(l);var n=d(5893);l.default=function(i){return(0,n.jsxs)("div",{className:"fixed bg-white top-0 z-50 w-full h-screen flex justify-center items-center",children:["Page Error: ",i.message]})}},59:function(i,l,d){"use strict";d.r(l);var n=d(5893);l.default=function(){return(0,n.jsx)("div",{className:"fixed top-0 z-50 w-full bg-white h-screen flex justify-center items-center",children:"Loading..."})}},8974:function(i,l,d){"use strict";d.r(l),d.d(l,{default:function(){return f}});var n=d(5893),e=d(491),t=d(777),o=d(7294),u=function(i){let{included:l,data:d}=i,{taxonomyList:e}=function(i){let{included:l,data:d}=i,[n,e]=(0,o.useState)("");return(0,o.useEffect)(()=>{let i=[];l&&(null==l||l.map(l=>{var n,e;(null==d?void 0:d.find(i=>(null==i?void 0:i.id)===l.id))&&i.push({id:null==l?void 0:l.id.toString(),name:(null==l?void 0:null===(n=l.attributes)||void 0===n?void 0:n.name)||"",tid:(null==l?void 0:null===(e=l.attributes)||void 0===e?void 0:e.drupal_internal__tid)||0})})),e(i)},[d,l]),{taxonomyList:n}}({included:l,data:d});return console.log("taxonomy list: ",e),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Ingredients: "}),(0,n.jsx)("div",{className:"flex gap-2 text-sm",children:e&&Array.isArray(e)&&e.map(i=>(0,n.jsxs)("div",{children:[null==i?void 0:i.name,","]},i.id))})]})},a=d(59),v=d(6324),r=d(5675),s=d.n(r),c=function(i){var l;let{included:d,imageId:t}=i,{urlarr:u}=function(i){let{included:l,imageId:d}=i,[n,e]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let i=l&&(null==l?void 0:l.find(i=>i.id===d)),n=l&&(null==l?void 0:l.find(l=>{var d,n,e;return l.id===(null==i?void 0:null===(e=i.relationships)||void 0===e?void 0:null===(n=e.field_media_image)||void 0===n?void 0:null===(d=n.data)||void 0===d?void 0:d.id)}));if(console.log("item1: ",i,"item 2",n),i&&n){var t,o,u,a,v,r,s,c,h,f,m,g,p,_;e([{id:i.id,imgurl:null===(o=n.attributes)||void 0===o?void 0:null===(t=o.uri)||void 0===t?void 0:t.url,width:null==i?void 0:null===(r=i.relationships)||void 0===r?void 0:null===(v=r.field_media_image)||void 0===v?void 0:null===(a=v.data)||void 0===a?void 0:null===(u=a.meta)||void 0===u?void 0:u.width,height:null==i?void 0:null===(f=i.relationships)||void 0===f?void 0:null===(h=f.field_media_image)||void 0===h?void 0:null===(c=h.data)||void 0===c?void 0:null===(s=c.meta)||void 0===s?void 0:s.height,alt:null==i?void 0:null===(_=i.relationships)||void 0===_?void 0:null===(p=_.field_media_image)||void 0===p?void 0:null===(g=p.data)||void 0===g?void 0:null===(m=g.meta)||void 0===m?void 0:m.alt}])}},[d,l]),{urlarr:n}}({included:d,imageId:t});return console.log("Images: ",u),u&&u.length>0&&(0,n.jsx)("div",{children:(0,n.jsx)(s(),{className:"w-96 h-auto object-cover py-10",src:"".concat(e.g.uri).concat(null===(l=u[0])||void 0===l?void 0:l.imgurl),width:u[0].width,height:u[0].height,alt:u[0].alt||""})})},h=function(){var i;let{data:l,isError:d,isLoading:o}=function(){let i="".concat(e.g.url,"/jsonapi/node/product_page?").concat("include=image.field_media_image,ingredients"),l={Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"},{data:d,isLoading:n,isError:o}=(0,t.a)({queryKey:["product_page"],queryFn:()=>fetch(i,{headers:l}).then(i=>i.json())});return console.log("Product Page:",d,o,n),{data:d,isError:o,isLoading:n}}();return o?(0,n.jsx)(a.default,{}):d?(0,n.jsx)(v.default,{}):(0,n.jsx)("div",{children:l&&(null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.map((i,d)=>{var e,t,o,a,v,r,s,h,f;return(0,n.jsxs)("div",{className:"my-10",children:[(0,n.jsx)("h3",{children:null==i?void 0:null===(e=i.attributes)||void 0===e?void 0:e.title}),(0,n.jsx)(c,{included:null==l?void 0:l.included,imageId:null==i?void 0:null===(a=i.relationships)||void 0===a?void 0:null===(o=a.image)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.id}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:null==i?void 0:null===(r=i.attributes)||void 0===r?void 0:null===(v=r.body)||void 0===v?void 0:v.value}})}),(0,n.jsx)("div",{className:"my-2",children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:null==i?void 0:null===(h=i.attributes)||void 0===h?void 0:null===(s=h.prodct_options)||void 0===s?void 0:s.value}})}),(0,n.jsx)("div",{children:(0,n.jsx)(u,{included:null==l?void 0:l.included,data:null==i?void 0:null===(f=i.relationships)||void 0===f?void 0:f.ingredients.data})})]},d)}))})},f=function(){return(0,n.jsx)("div",{className:"mx-10",children:(0,n.jsx)(h,{})})}}},function(i){i.O(0,[675,888,774,179],function(){return i(i.s=4918)}),_N_E=i.O()}]);