(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{4918:function(i,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return l(1778)}])},1778:function(i,n,l){"use strict";l.r(n),l.d(n,{default:function(){return j}});var d=l(5893),e=l(491),t=l(777),o=l(7294),u=function(i){let{included:n,data:l}=i,{taxonomyList:e}=function(i){let{included:n,data:l}=i,[d,e]=(0,o.useState)("");return(0,o.useEffect)(()=>{let i=[];n&&(null==n||n.map(n=>{var d,e;(null==l?void 0:l.find(i=>(null==i?void 0:i.id)===n.id))&&i.push({id:null==n?void 0:n.id.toString(),name:(null==n?void 0:null===(d=n.attributes)||void 0===d?void 0:d.name)||"",tid:(null==n?void 0:null===(e=n.attributes)||void 0===e?void 0:e.drupal_internal__tid)||0})})),e(i)},[l,n]),{taxonomyList:d}}({included:n,data:l});return console.log("taxonomy list: ",e),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"Ingredients: "}),(0,d.jsx)("div",{className:"flex gap-2 text-sm",children:e&&Array.isArray(e)&&e.map(i=>(0,d.jsxs)("div",{children:[null==i?void 0:i.name,","]},i.id))})]})},a=l(59),r=l(6324),s=l(7653),c=l(5675),v=l.n(c),h=function(i){var n;let{included:l,imageId:t}=i,{urlarr:o}=(0,s.Y)({included:l,imageId:t});return console.log("Images: ",o),o&&o.length>0&&(0,d.jsx)("div",{children:(0,d.jsx)(v(),{className:"w-96 h-auto object-cover py-10",src:"".concat(e.g.uri).concat(null===(n=o[0])||void 0===n?void 0:n.imgurl),width:o[0].width,height:o[0].height,alt:o[0].alt||""})})},p=function(){var i;let{data:n,isError:l,isLoading:o}=function(){let i="".concat(e.g.url,"/jsonapi/node/product_page?").concat("include=image.field_media_image,ingredients"),n={Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"},{data:l,isLoading:d,isError:o}=(0,t.a)({queryKey:["product_page"],queryFn:()=>fetch(i,{headers:n}).then(i=>i.json())});return console.log("Product Page:",l,o,d),{data:l,isError:o,isLoading:d}}();return o?(0,d.jsx)(a.default,{}):l?(0,d.jsx)(r.default,{}):(0,d.jsx)("div",{children:n&&(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.map((i,l)=>{var e,t,o,a,r,s,c,v,p;return(0,d.jsxs)("div",{className:"my-10",children:[(0,d.jsx)("h3",{children:null==i?void 0:null===(e=i.attributes)||void 0===e?void 0:e.title}),(0,d.jsx)(h,{included:null==n?void 0:n.included,imageId:null==i?void 0:null===(a=i.relationships)||void 0===a?void 0:null===(o=a.image)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.id}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:null==i?void 0:null===(s=i.attributes)||void 0===s?void 0:null===(r=s.body)||void 0===r?void 0:r.value}})}),(0,d.jsx)("div",{className:"my-2",children:(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:null==i?void 0:null===(v=i.attributes)||void 0===v?void 0:null===(c=v.prodct_options)||void 0===c?void 0:c.value}})}),(0,d.jsx)("div",{children:(0,d.jsx)(u,{included:null==n?void 0:n.included,data:null==i?void 0:null===(p=i.relationships)||void 0===p?void 0:p.ingredients.data})})]},l)}))})},j=function(){return(0,d.jsx)("div",{className:"mx-10",children:(0,d.jsx)(p,{})})}}},function(i){i.O(0,[888,774,179],function(){return i(i.s=4918)}),_N_E=i.O()}]);